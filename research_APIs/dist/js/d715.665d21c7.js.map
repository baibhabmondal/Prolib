{"version":3,"sources":["webpack:///./src/components/Outer/login.vue?dff8","webpack:///src/components/Outer/login.vue","webpack:///./src/components/Outer/login.vue?b3b6","webpack:///./src/components/Outer/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","position","top","attrs","row","align-center","justify-center","xs12","sm10","md6","staticClass","border","border-radius","height","text","error","on","dismissed","onClose","_e","primary-title","_v","ref","lazy-validation","prepend-icon","label","required","model","value","callback","$$v","email","expression","rules","passwordRules","type","password","loading","disabled","color","click","login","text-decoration","href","staticRenderFns","loginvue_type_script_lang_js_","data","id","name","reg_no","emailRules","v","test","length","beforeCreate","localStorage","clear","computed","userId","$store","getters","methods","dispatch","_login","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","$refs","loginForm","validate","axios_default","a","post","sent","console","log","success","uid","$router","push","concat","t0","stop","apply","arguments","Outer_loginvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/d715.665d21c7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticStyle:{\"position\":\"relative\",\"top\":\"10%\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm10\":\"\",\"md6\":\"\"}},[_c('v-card',{staticClass:\"elevation-3\",staticStyle:{\"border\":\"10px\",\"border-radius\":\"15px\"},attrs:{\"height\":\"400px\"}},[(_vm.error)?_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\",\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('app-alert',{attrs:{\"text\":_vm.error},on:{\"dismissed\":_vm.onClose}})],1)],1):_vm._e(),_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',[_c('b',[_c('h2',{staticClass:\"headline mb-0\"},[_vm._v(\"Login\")]),_c('br')])])]),_c('v-card-text',[_c('v-form',{ref:\"loginForm\",attrs:{\"lazy-validation\":\"\"}},[_c('v-text-field',{attrs:{\"prepend-icon\":\"email\",\"label\":\"E-mail\",\"required\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"lock\",\"label\":\"Password\",\"rules\":_vm.passwordRules,\"type\":\"password\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"loading\":_vm.loading,\"disabled\":_vm.loading,\"color\":\"secondary\"},on:{\"click\":_vm.login}},[_vm._v(\"Login\")])],1),_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',[_vm._v(\"Don't have an account? \"),_c('a',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"href\":\"signup\"}},[_vm._v(\"Sign Up\")])])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container style=\"position: relative;top:10%\">\r\n    <v-layout row align-center justify-center>\r\n      <v-flex xs12 sm10 md6>\r\n        <v-card class=\"elevation-3\" height=\"400px\" style=\"border:10px;border-radius:15px\">\r\n          <v-layout align-center justify-center row v-if=\"error\">\r\n            <v-flex xs12>\r\n              <app-alert :text=\"error\" @dismissed=\"onClose\"></app-alert>\r\n            </v-flex>\r\n          </v-layout>\r\n          <v-card-title primary-title>\r\n            <div>\r\n              <b> <h2 class=\"headline mb-0\">Login</h2><br></b>\r\n              <!-- <div>Use your SRM ID</div> -->\r\n            </div>\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <v-form ref=\"loginForm\" lazy-validation>\r\n              <v-text-field prepend-icon=\"email\" label=\"E-mail\" v-model=\"email\" required></v-text-field>\r\n              <v-text-field prepend-icon=\"lock\" label=\"Password\" :rules=\"passwordRules\" v-model=\"password\" type=\"password\" required> </v-text-field>\r\n            </v-form>\r\n          </v-card-text>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn :loading=\"loading\" :disabled=\"loading\" color=\"secondary\" @click=\"login\">Login</v-btn>\r\n          </v-card-actions>\r\n          <v-card-title primary-title>\r\n            <div>Don't have an account? <a href=\"signup\" style=\"text-decoration:none;\">Sign Up</a></div>\r\n          </v-card-title>\r\n        </v-card>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios'\r\n  export default {\r\n    data() {\r\n      return {\r\n        email: '',\r\n        password: '',\r\n        id: '',\r\n        name: '',\r\n        reg_no: '',\r\n        emailRules: [\r\n          v => !!v || 'E-mail is required',\r\n          v => /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(v) || 'E-mail must be valid'\r\n        ],\r\n        passwordRules: [\r\n          v => !!v || 'password is required',\r\n          v => v.length > 8 && v.length < 12 || 'password must be between  8-12'\r\n        ]\r\n      }\r\n    },\r\n    beforeCreate() {\r\n      localStorage.clear()\r\n    },\r\n    computed: {\r\n      userId() {\r\n        return this.$store.getters.userId\r\n      },\r\n      error(){\r\n        return this.$store.getters.error\r\n      },\r\n      loading() {\r\n        return this.$store.getters.loading\r\n      }\r\n    },\r\n    methods: {\r\n      onClose() {\r\n        this.$store.dispatch('clearError')\r\n      },\r\n      async login() {\r\n        if (this.$refs.loginForm.validate()) {\r\n        this.$store.dispatch('loading', true)\r\n        try {\r\n          const response = await axios.post('/authenticate', {\r\n            \"email\": this.email,\r\n            \"password\": this.password\r\n          })\r\n          this.$store.dispatch('loading', false)\r\n          console.log(response.data)\r\n          if  (response.data.success === false)\r\n          {\r\n            this.$store.dispatch(\"setError\", \"username or password is wrong.\")\r\n          }\r\n          else\r\n          {\r\n            this.id = response.data.uid\r\n            this.reg_no = response.data.reg_no\r\n            this.name = response.data.name\r\n            // this.id = \"5b97ada2d9cc3a40f44a8a79\"\r\n            // this.reg_no = \"RA160003030303\"\r\n            localStorage.id = this.id\r\n            localStorage.reg_no = this.reg_no\r\n            localStorage.name = this.name\r\n            this.$store.dispatch('reg_no', this.reg_no)\r\n            this.$store.dispatch('userId', this.id)\r\n            this.$store.dispatch('name', this.name)\r\n            this.$router.push(`/${this.reg_no}`)\r\n          }\r\n        } catch (e) {\r\n          this.$store.dispatch('loading', false)\r\n          console.log(e)\r\n        }\r\n      }\r\n    }\r\n    }\r\n  }\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=fbd55346&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"login.vue\"\nexport default component.exports"],"sourceRoot":""}